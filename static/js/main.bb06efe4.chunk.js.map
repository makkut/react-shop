{"version":3,"sources":["components/Header.jsx","components/Footer.jsx","components/Preloader.jsx","components/GoodsItem.jsx","components/GoodsList.jsx","components/Cart.jsx","components/BasketItem.jsx","components/BasketIList.jsx","components/Alert.jsx","components/Shop.jsx","config.js","App.js","index.js"],"names":["Header","className","href","id","target","rel","Footer","Date","getUTCFullYear","Preloader","params","GoodsItem","props","mainId","displayName","displayDescription","addToBasket","Function","prototype","price","console","log","src","granted","images","full_background","alt","onClick","GoodsList","goods","length","map","item","finalPrice","Cart","quantity","handleBasketShow","BasketItem","removeFromBasket","incQuantity","decQuantity","class","BasketList","order","totalPrice","reduce","sum","el","Alert","name","closeAlert","useEffect","timerId","setTimeout","clearTimeout","Shop","useState","setGoods","loading","setLoading","setOrder","isBasketShow","setBasketShow","alertName","setAlertName","fetch","headers","Authorization","process","then","response","json","data","shop","itemIndex","findIndex","orderItem","newItem","newOrder","index","itemId","filter","newQuantity","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.bb06efe4.chunk.js","sourcesContent":["function Header() {\r\n    return (\r\n        <nav className='blue darken-2'>\r\n            <div className='nav-wrapper'>\r\n                <a href='/' className='brand-logo'>\r\n                    React Shop\r\n                </a>\r\n                <ul id='nav-mobile' className='right hide-on-med-and-down'>\r\n                    <li>\r\n                        <a\r\n                            href='https://github.com/makkut/react-shop'\r\n                            target='_blank'\r\n                            rel='noreferrer'\r\n                        >\r\n                            Repo\r\n                        </a>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </nav>\r\n    );\r\n}\r\n\r\nexport { Header };\r\n","function Footer() {\r\n    return (\r\n        <footer className='page-footer blue lighten-3'>\r\n            <div className='footer-copyright'>\r\n                <div className='container'>\r\n                    © {new Date().getUTCFullYear()} Copyright Text\r\n                    <a\r\n                        className='grey-text text-lighten-4 right'\r\n                        href='https://github.com/makkut/react-shop'\r\n                        target='_blank'\r\n                        rel='noreferrer'\r\n                    >\r\n                        Repo\r\n                    </a>\r\n                </div>\r\n            </div>\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport { Footer };\r\n","function Preloader(params) {\r\n    return (\r\n        <div className='progress'>\r\n            <div className='indeterminate'></div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport { Preloader };\r\n","function GoodsItem(props) {\r\n    const {\r\n        mainId,\r\n        displayName,\r\n        displayDescription,\r\n        addToBasket = Function.prototype,\r\n        price\r\n    } = props;\r\n    console.log(props);\r\n    return (\r\n        <div className='card'>\r\n            <div className='card-image'>\r\n                <img\r\n                    src={props.granted[0].images.full_background}\r\n                    alt={displayName}\r\n                />\r\n            </div>\r\n            <div className='card-content'>\r\n                <span className='card-title'>{displayName}</span>\r\n                <p>{displayDescription}</p>\r\n            </div>\r\n            <div className='card-action'>\r\n                <button\r\n                    className='btn'\r\n                    onClick={() =>\r\n                        addToBasket({\r\n                            mainId,\r\n                            displayName,\r\n                            price\r\n                        })\r\n                    }\r\n                >\r\n                    Купить\r\n                </button>\r\n                <span className='rigth price'>\r\n                    {price} руб.\r\n                </span>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nexport { GoodsItem };\r\n","import { GoodsItem } from './GoodsItem';\r\n\r\nfunction GoodsList(props) {\r\n    const { goods = [], addToBasket = Function.prototype } = props;\r\n    if (!goods.length) {\r\n        return <h3>Nothing here</h3>;\r\n    }\r\n    return (\r\n        <div className='goods'>\r\n            {goods.map((item) => (\r\n                <GoodsItem\r\n                    key={item.mainId}\r\n                    {...item}\r\n                    price={item.price.finalPrice}\r\n                    addToBasket={addToBasket}\r\n                />\r\n            ))}\r\n        </div>\r\n    );\r\n}\r\nexport { GoodsList };\r\n","function Cart(props) {\r\n    const { quantity = 0, handleBasketShow = Function.prototype } = props;\r\n    return (\r\n        <div\r\n            className='cart green darken-2 white-text'\r\n            onClick={handleBasketShow}\r\n        >\r\n            <i className='material-icons'>add_shopping_cart</i>\r\n            {quantity ? (\r\n                <span className='cart-quantity'>{quantity}</span>\r\n            ) : null}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport { Cart };\r\n","function BasketItem(props) {\r\n    const {\r\n        mainId,\r\n        displayName,\r\n        price,\r\n        quantity,\r\n        removeFromBasket,\r\n        incQuantity,\r\n        decQuantity,\r\n    } = props;\r\n    return (\r\n        <li class='collection-item'>\r\n            {displayName}{' '}\r\n            <i\r\n                className='material-icons basket-quantity'\r\n                onClick={() => {\r\n                    decQuantity(mainId);\r\n                }}\r\n            >\r\n                remove\r\n            </i>{' '}\r\n            x {quantity}\r\n            <i\r\n                className='material-icons basket-quantity'\r\n                onClick={() => {\r\n                    incQuantity(mainId);\r\n                }}\r\n            >\r\n                add\r\n            </i>{' '}\r\n            = {price * quantity}\r\n            <span className='secondary-content'>\r\n                <i\r\n                    className='material-icons basket-delete'\r\n                    onClick={() => removeFromBasket(mainId)}\r\n                >\r\n                    close\r\n                </i>\r\n            </span>\r\n        </li>\r\n    );\r\n}\r\nexport { BasketItem };\r\n","import { BasketItem } from './BasketItem';\r\nfunction BasketList(props) {\r\n    const {\r\n        order = [],\r\n        handleBasketShow = Function.prototype,\r\n        removeFromBasket = Function.prototype,\r\n        incQuantity,\r\n        decQuantity,\r\n    } = props;\r\n\r\n    const totalPrice = order.reduce((sum, el) => {\r\n        return sum + el.price * el.quantity;\r\n    }, 0);\r\n    return (\r\n        <ul className='collection basket-list'>\r\n            <li className='collection-item active'>Корзина</li>\r\n            {order.length ? (\r\n                order.map((item) => (\r\n                    <BasketItem\r\n                        key={item.mainId}\r\n                        {...item}\r\n                        removeFromBasket={removeFromBasket}\r\n                        incQuantity={incQuantity}\r\n                        decQuantity={decQuantity}\r\n                    />\r\n                ))\r\n            ) : (\r\n                <li className='collection-item'>Корзина пуста</li>\r\n            )}\r\n\r\n            <li className='collection-item active'>\r\n                Общая стоимость: {totalPrice} руб.\r\n            </li>\r\n            <li className='collection-item '>\r\n                <button className='btn btn-small'>Оформить</button>\r\n            </li>\r\n            <i\r\n                className='material-icons basket-close'\r\n                onClick={handleBasketShow}\r\n            >\r\n                close\r\n            </i>\r\n        </ul>\r\n    );\r\n}\r\nexport { BasketList };\r\n","import { useEffect } from 'react/cjs/react.development';\r\n\r\nfunction Alert(props) {\r\n    const { name, closeAlert = Function.prototype } = props;\r\n\r\n    useEffect(() => {\r\n        const timerId = setTimeout(closeAlert, 3000);\r\n        return () => {\r\n            clearTimeout(timerId);\r\n        };\r\n        //eslint-disable-next-line\r\n    }, [name]);\r\n\r\n    return (\r\n        <div id='toast-container'>\r\n            <div className='toast'>{name} добавлен в корзину</div>\r\n        </div>\r\n    );\r\n}\r\nexport { Alert };\r\n","import { useState, useEffect } from 'react';\r\nimport { API_KEY, API_URL } from '../config';\r\n\r\nimport { Preloader } from './Preloader';\r\nimport { GoodsList } from './GoodsList';\r\nimport { Cart } from './Cart';\r\nimport { BasketList } from './BasketIList';\r\nimport { Alert } from './Alert';\r\n\r\nfunction Shop() {\r\n    const [goods, setGoods] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [order, setOrder] = useState([]);\r\n    const [isBasketShow, setBasketShow] = useState(false);\r\n    const [alertName, setAlertName] = useState('');\r\n\r\n    const addToBasket = (item) => {\r\n        const itemIndex = order.findIndex(\r\n            (orderItem) => orderItem.mainId === item.mainId\r\n        );\r\n\r\n        if (itemIndex < 0) {\r\n            const newItem = {\r\n                ...item,\r\n                quantity: 1,\r\n            };\r\n            setOrder([...order, newItem]);\r\n        } else {\r\n            const newOrder = order.map((orderItem, index) => {\r\n                if (index === itemIndex) {\r\n                    return {\r\n                        ...orderItem,\r\n                        quantity: orderItem.quantity + 1,\r\n                    };\r\n                } else {\r\n                    return orderItem;\r\n                }\r\n            });\r\n            setOrder(newOrder);\r\n        }\r\n        setAlertName(item.displayName);\r\n    };\r\n\r\n    const removeFromBasket = (itemId) => {\r\n        const newOrder = order.filter((el) => el.mainId !== itemId);\r\n        setOrder(newOrder);\r\n    };\r\n\r\n    const incQuantity = (itemId) => {\r\n        const newOrder = order.map((el) => {\r\n            if (el.mainId === itemId) {\r\n                const newQuantity = el.quantity + 1;\r\n                return {\r\n                    ...el,\r\n                    quantity: newQuantity,\r\n                };\r\n            } else {\r\n                return el;\r\n            }\r\n        });\r\n        setOrder(newOrder);\r\n    };\r\n    const decQuantity = (itemId) => {\r\n        const newOrder = order.map((el) => {\r\n            if (el.mainId === itemId) {\r\n                const newQuantity = el.quantity - 1;\r\n                return {\r\n                    ...el,\r\n                    quantity: newQuantity >= 0 ? newQuantity : 0,\r\n                };\r\n            } else {\r\n                return el;\r\n            }\r\n        });\r\n        setOrder(newOrder);\r\n    };\r\n\r\n    const handleBasketShow = () => {\r\n        setBasketShow(!isBasketShow);\r\n    };\r\n\r\n    const closeAlert = () => {\r\n        setAlertName('');\r\n    };\r\n    useEffect(function getGoods() {\r\n        fetch(API_URL, {\r\n            headers: {\r\n                Authorization: API_KEY,\r\n            },\r\n        })\r\n            .then((response) => response.json())\r\n            .then((data) => {\r\n                data.shop && setGoods(data.shop);\r\n                setLoading(false);\r\n                console.log(data.shop);\r\n            });\r\n    }, []);\r\n\r\n    return (\r\n        <main className='container content'>\r\n            <Cart quantity={order.length} handleBasketShow={handleBasketShow} />\r\n            {loading ? (\r\n                <Preloader />\r\n            ) : (\r\n                <GoodsList goods={goods} addToBasket={addToBasket} />\r\n            )}\r\n            {isBasketShow && (\r\n                <BasketList\r\n                    order={order}\r\n                    handleBasketShow={handleBasketShow}\r\n                    removeFromBasket={removeFromBasket}\r\n                    incQuantity={incQuantity}\r\n                    decQuantity={decQuantity}\r\n                />\r\n            )}\r\n            {alertName && <Alert name={alertName} closeAlert={closeAlert} />}\r\n        </main>\r\n    );\r\n}\r\n\r\nexport { Shop };\r\n","\r\nconst API_KEY = process.env.REACT_APP_API_KEY;\r\nconst API_URL = 'https://fortniteapi.io/v2/shop?lang=ru';\r\n\r\nexport{\r\n  API_KEY,\r\n  API_URL\r\n}","import {Header} from './components/Header';\r\nimport {Footer} from './components/Footer';\r\nimport {Shop} from './components/Shop';\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <Header/>\r\n      <Shop/>\r\n      <Footer/>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}